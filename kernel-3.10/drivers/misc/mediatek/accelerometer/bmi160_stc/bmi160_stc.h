/* BOSCH STEP COUNTER Sensor Driver Header File
 *
 * This software is licensed under the terms of the GNU General Public
 * License version 2, as published by the Free Software Foundation, and
 * may be copied, distributed, and modified under those terms.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 */

#ifndef BMI160_STC_H
#define BMI160_STC_H

#include <linux/ioctl.h>

#define STC_DRIVER_VERSION "V1.0"
#define SENSOR_NAME    		"step_counter"
#define UNKNOWN_SENSOR 		"unknown sensor"
#define COMPATIABLE_NAME 	"mediatek,m_step_c_pl"
#define STC_DEV_NAME		"step_counter"

#define BMI160_GET_BITSLICE(regvar, bitname)\
	((regvar & bitname##__MSK) >> bitname##__POS)

#define BMI160_SET_BITSLICE(regvar, bitname, val)\
	((regvar & ~bitname##__MSK) | ((val<<bitname##__POS)&bitname##__MSK))

/*according i2c_mt6516.c */
#define C_I2C_FIFO_SIZE         8
#define C_MAX_FIR_LENGTH		(32)
#define MAX_SENSOR_NAME			(32)
#define BMG_BUFSIZE				128
#define E_BMI160_OUT_OF_RANGE	((s8)-2)
#define BMI160_ACC_ERR_I2C		-1
#define	C_BMI160_ZERO_U8X		((u8)0)
#define SENSOR_CHIP_ID_BMI 		(0xD0)
#define SENSOR_CHIP_ID_BMI_C2 	(0xD1)
#define SENSOR_CHIP_ID_BMI_C3 	(0xD3)
#define SENSOR_CHIP_REV_ID_BMI 	(0x00)
#define BMI160_GYRO_I2C_ADDRESS	0x66
#define BMI160_I2C_ADDR			0x68
#define	ENABLE					(1)
#define	DISABLE					(0)

#define BMI160_ACC_MODE_NORMAL      0
#define BMI160_ACC_MODE_LOWPOWER    1
#define BMI160_ACC_MODE_SUSPEND     2

#define BMI160_RETURN_FUNCTION_TYPE			s8
#define BMI160_NULL							(0)
#define E_BMI160_NULL_PTR					((s8)-127)
#define E_BMI160_COMM_RES					((s8)-1)
#define E_BMI160_OUT_OF_RANGE				((s8)-2)
#define E_BMI160_BUSY						((s8)-3)
#define	SUCCESS								((u8)0)
#define	ERROR								((s8)-1)
#define BMI160_INIT_VALUE					(0)
#define BMI160_GEN_READ_WRITE_DATA_LENGTH	(1)
#define BMI160_USER_PMU_TRIGGER_ADDR		(0X6C)
#define	BMI160_MAX_VALUE_SIGNIFICANT_MOTION	(1)
/* BMI160 Accel ODR */
#define BMI160_ACCEL_ODR_RESERVED       0x00
#define BMI160_ACCEL_ODR_0_78HZ         0x01
#define BMI160_ACCEL_ODR_1_56HZ         0x02
#define BMI160_ACCEL_ODR_3_12HZ         0x03
#define BMI160_ACCEL_ODR_6_25HZ         0x04
#define BMI160_ACCEL_ODR_12_5HZ         0x05
#define BMI160_ACCEL_ODR_25HZ           0x06
#define BMI160_ACCEL_ODR_50HZ           0x07
#define BMI160_ACCEL_ODR_100HZ          0x08
#define BMI160_ACCEL_ODR_200HZ          0x09
#define BMI160_ACCEL_ODR_400HZ          0x0A
#define BMI160_ACCEL_ODR_800HZ          0x0B
#define BMI160_ACCEL_ODR_1600HZ         0x0C
#define BMI160_ACCEL_ODR_RESERVED0      0x0D
#define BMI160_ACCEL_ODR_RESERVED1      0x0E
#define BMI160_ACCEL_ODR_RESERVED2      0x0F
#define C_BMI160_FOURTEEN_U8X           ((u8)14)
#define BMI160_USER_GYR_RANGE_ADDR      0X43
#define BMI160_CMD_COMMANDS_ADDR		0X7E

#define CMD_PMU_ACC_SUSPEND           	0x10
#define CMD_PMU_ACC_NORMAL            	0x11
#define CMD_PMU_ACC_LP1               	0x12
#define CMD_PMU_ACC_LP2               	0x13

#define CMD_PMU_GYRO_SUSPEND          	0x14
#define CMD_PMU_GYRO_NORMAL           	0x15
#define CMD_PMU_GYRO_FASTSTART        	0x17
#define BMI160_SHIFT_1_POSITION       	1
#define BMI160_SHIFT_2_POSITION       	2
#define BMI160_SHIFT_3_POSITION       	3
#define BMI160_SHIFT_4_POSITION       	4
#define BMI160_SHIFT_5_POSITION       	5
#define BMI160_SHIFT_6_POSITION       	6
#define BMI160_SHIFT_7_POSITION       	7
#define BMI160_SHIFT_8_POSITION       	8
#define BMI160_SHIFT_12_POSITION      	12
#define BMI160_SHIFT_16_POSITION      	16
#define BMI160_USER_CHIP_ID_ADDR		0x00
#define BMI160_USER_STEP_COUNT_0_ADDR	(0X78)
#define	BMI160_STEP_COUNT_LSB_BYTE    	(0)
#define	BMI160_STEP_COUNT_MSB_BYTE    	(1)
#define	BMI160_STEP_COUNT_LSB_BYTE    	(0)
#define BMI160_STEP_COUNTER_LENGTH	 	(2)
#define BMI160_GEN_READ_WRITE_DATA_LENGTH	(1)
#define BMI160_SHIFT_BIT_POSITION_BY_08_BITS	(8)

#define BMI160_USER_INTR_MOTION_1_ADDR	(0X60)
#define BMI160_USER_INTR_MOTION_3_ADDR	(0X62)
#define	BMI160_ENABLE_ANY_MOTION_INTR1	(0x04)
#define	BMI160_ENABLE_ANY_MOTION_INTR2	(0x04)
#define	BMI160_ENABLE_ANY_MOTION_AXIS	(0x07)
#define	BMI160_SIG_MOTION_INTR_ENABLE   (0x01)
/* INT ENABLE 1 */
#define BMI160_ANY_MOTION_X_ENABLE       (0)
#define BMI160_ANY_MOTION_Y_ENABLE       (1)
#define BMI160_ANY_MOTION_Z_ENABLE       (2)
#define BMI160_DOUBLE_TAP_ENABLE         (4)
#define BMI160_SINGLE_TAP_ENABLE         (5)
#define BMI160_ORIENT_ENABLE             (6)
#define BMI160_FLAT_ENABLE               (7)
/***************************************************/
/**\name INTERRUPT ENABLE REGISTERS*/
/******************************************************/
#define BMI160_USER_INTR_ENABLE_0_ADDR	(0X50)
#define BMI160_USER_INTR_ENABLE_1_ADDR	(0X51)
#define BMI160_USER_INTR_ENABLE_2_ADDR	(0X52)
#define BMI160_USER_INTR_OUT_CTRL_ADDR	(0X53)
/***************************************************/
/**\name STEP COUNTER CONFIGURATION REGISTERS*/
/******************************************************/
#define BMI160_USER_STEP_CONFIG_0_ADDR		(0X7A)
#define BMI160_USER_STEP_CONFIG_1_ADDR		(0X7B)
#define BMI160_USER_INTR_ENABLE_2_ADDR		(0X52)
/**************************************************************/
/**\name	STEP COUNTER ENABLE LENGTH, POSITION AND MASK*/
/**************************************************************/
/* STEP_CONFIG_1  Description - Reg Addr --> 0x7B, Bit -->  0 to 2 */
#define BMI160_USER_STEP_CONFIG_1_STEP_COUNT_ENABLE__POS	(3)
#define BMI160_USER_STEP_CONFIG_1_STEP_COUNT_ENABLE__LEN	(1)
#define BMI160_USER_STEP_CONFIG_1_STEP_COUNT_ENABLE__MSK	(0x08)
#define BMI160_USER_STEP_CONFIG_1_STEP_COUNT_ENABLE__REG	\
(BMI160_USER_STEP_CONFIG_1_ADDR)
/**************************************************************/
/**\name	STEP COUNTER LENGTH, POSITION AND MASK*/
/**************************************************************/
/* STEP_CNT_0  Description - Reg Addr --> 0x78, Bit -->  0 to 7 */
#define BMI160_USER_STEP_COUNT_LSB__POS		(0)
#define BMI160_USER_STEP_COUNT_LSB__LEN		(7)
#define BMI160_USER_STEP_COUNT_LSB__MSK		(0xFF)
#define BMI160_USER_STEP_COUNT_LSB__REG	 	(BMI160_USER_STEP_COUNT_0_ADDR)
/**************************************************************/
/**\name	STEP DETECTOR ENABLE LENGTH, POSITION AND MASK*/
/**************************************************************/
/* Int_En_2 Description - Reg Addr --> (0x52), Bit -->3 */
#define BMI160_USER_INTR_ENABLE_2_STEP_DETECTOR_ENABLE__POS		(3)
#define BMI160_USER_INTR_ENABLE_2_STEP_DETECTOR_ENABLE__LEN		(1)
#define BMI160_USER_INTR_ENABLE_2_STEP_DETECTOR_ENABLE__MSK		(0x08)
#define BMI160_USER_INTR_ENABLE_2_STEP_DETECTOR_ENABLE__REG		\
(BMI160_USER_INTR_ENABLE_2_ADDR)
/* USER DATA REGISTERS DEFINITION START */
/* Chip ID Description - Reg Addr --> 0x00, Bit --> 0...7 */
#define BMI160_USER_CHIP_ID__POS		0
#define BMI160_USER_CHIP_ID__MSK        0xFF
#define BMI160_USER_CHIP_ID__LEN        8
#define BMI160_USER_CHIP_ID__REG        BMI160_USER_CHIP_ID_ADDR

#define BMI160_USER_ACC_CONF_ADDR		0X40
/* Acc_Conf Description - Reg Addr --> 0x40, Bit --> 0...3 */
#define BMI160_USER_ACC_CONF_ODR__POS   0
#define BMI160_USER_ACC_CONF_ODR__LEN   4
#define BMI160_USER_ACC_CONF_ODR__MSK   0x0F
#define BMI160_USER_ACC_CONF_ODR__REG	BMI160_USER_ACC_CONF_ADDR

/* Command description address - Reg Addr --> 0x7E, Bit -->  0....7 */
#define BMI160_CMD_COMMANDS__POS        0
#define BMI160_CMD_COMMANDS__LEN        8
#define BMI160_CMD_COMMANDS__MSK        0xFF
#define BMI160_CMD_COMMANDS__REG	 	BMI160_CMD_COMMANDS_ADDR

/**************************************************************/
/**\name	SIGNIFICANT MOTION SELECT LENGTH, POSITION AND MASK*/
/**************************************************************/
/* Int_Motion_3 Description - Reg Addr --> (0x62), Bit --> 1 */
#define BMI160_USER_INTR_SIGNIFICATION_MOTION_SELECT__POS		(1)
#define BMI160_USER_INTR_SIGNIFICATION_MOTION_SELECT__LEN		(1)
#define BMI160_USER_INTR_SIGNIFICATION_MOTION_SELECT__MSK		(0x02)
#define BMI160_USER_INTR_SIGNIFICATION_MOTION_SELECT__REG		\
		(BMI160_USER_INTR_MOTION_3_ADDR)
/**************************************************************/
/**\name	ANY MOTION XYZ AXIS ENABLE LENGTH, POSITION AND MASK*/
/**************************************************************/
/* Int_En_0 Description - Reg Addr --> 0x50, Bit -->0 */
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_X_ENABLE__POS		(0)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_X_ENABLE__LEN      (1)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_X_ENABLE__MSK      (0x01)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_X_ENABLE__REG	    \
		(BMI160_USER_INTR_ENABLE_0_ADDR)
/* Int_En_0 Description - Reg Addr --> 0x50, Bit -->1 */
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Y_ENABLE__POS      (1)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Y_ENABLE__LEN      (1)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Y_ENABLE__MSK      (0x02)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Y_ENABLE__REG	    \
		(BMI160_USER_INTR_ENABLE_0_ADDR)
/* Int_En_0 Description - Reg Addr --> 0x50, Bit -->2 */
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Z_ENABLE__POS       (2)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Z_ENABLE__LEN       (1)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Z_ENABLE__MSK       (0x04)
#define BMI160_USER_INTR_ENABLE_0_ANY_MOTION_Z_ENABLE__REG	     \
		(BMI160_USER_INTR_ENABLE_0_ADDR)
/**************************************************************/
/**\name	DOUBLE TAP ENABLE LENGTH, POSITION AND MASK*/
/**************************************************************/
/* Int_En_0 Description - Reg Addr --> 0x50, Bit -->4 */
#define BMI160_USER_INTR_ENABLE_0_DOUBLE_TAP_ENABLE__POS          (4)
#define BMI160_USER_INTR_ENABLE_0_DOUBLE_TAP_ENABLE__LEN          (1)
#define BMI160_USER_INTR_ENABLE_0_DOUBLE_TAP_ENABLE__MSK          (0x10)
#define BMI160_USER_INTR_ENABLE_0_DOUBLE_TAP_ENABLE__REG	       \
		(BMI160_USER_INTR_ENABLE_0_ADDR)
/**************************************************************/
/**\name	SINGLE TAP ENABLE LENGTH, POSITION AND MASK*/
/**************************************************************/
/* Int_En_0 Description - Reg Addr --> 0x50, Bit -->5 */
#define BMI160_USER_INTR_ENABLE_0_SINGLE_TAP_ENABLE__POS           (5)
#define BMI160_USER_INTR_ENABLE_0_SINGLE_TAP_ENABLE__LEN           (1)
#define BMI160_USER_INTR_ENABLE_0_SINGLE_TAP_ENABLE__MSK           (0x20)
#define BMI160_USER_INTR_ENABLE_0_SINGLE_TAP_ENABLE__REG	       \
		(BMI160_USER_INTR_ENABLE_0_ADDR)
/**************************************************************/
/**\name	ORIENT ENABLE LENGTH, POSITION AND MASK*/
/**************************************************************/
/* Int_En_0 Description - Reg Addr --> 0x50, Bit -->6 */
#define BMI160_USER_INTR_ENABLE_0_ORIENT_ENABLE__POS	(6)
#define BMI160_USER_INTR_ENABLE_0_ORIENT_ENABLE__LEN    (1)
#define BMI160_USER_INTR_ENABLE_0_ORIENT_ENABLE__MSK    (0x40)
#define BMI160_USER_INTR_ENABLE_0_ORIENT_ENABLE__REG	\
		(BMI160_USER_INTR_ENABLE_0_ADDR)
/**************************************************************/
/**\name	FLAT ENABLE LENGTH, POSITION AND MASK*/
/**************************************************************/
/* Int_En_0 Description - Reg Addr --> 0x50, Bit -->7 */
#define BMI160_USER_INTR_ENABLE_0_FLAT_ENABLE__POS		(7)
#define BMI160_USER_INTR_ENABLE_0_FLAT_ENABLE__LEN      (1)
#define BMI160_USER_INTR_ENABLE_0_FLAT_ENABLE__MSK      (0x80)
#define BMI160_USER_INTR_ENABLE_0_FLAT_ENABLE__REG	    \
(BMI160_USER_INTR_ENABLE_0_ADDR)
#define BMI160_USER_PMU_STATUS_ADDR			0X03
/* PMU_Status Description of ACCEL - Reg Addr --> 0x03, Bit --> 5...4 */
#define BMI160_USER_ACC_PMU_STATUS__POS     4
#define BMI160_USER_ACC_PMU_STATUS__LEN     2
#define BMI160_USER_ACC_PMU_STATUS__MSK     0x30
#define BMI160_USER_ACC_PMU_STATUS__REG		BMI160_USER_PMU_STATUS_ADDR
/* Acc_Conf Description - Reg Addr --> 0x40, Bit --> 7 */
#define BMI160_USER_ACC_CONF_ACC_UNDER_SAMPLING__POS		7
#define BMI160_USER_ACC_CONF_ACC_UNDER_SAMPLING__LEN		1
#define BMI160_USER_ACC_CONF_ACC_UNDER_SAMPLING__MSK		0x80
#define BMI160_USER_ACC_CONF_ACC_UNDER_SAMPLING__REG 		BMI160_USER_ACC_CONF_ADDR

/* sensor type */
enum SENSOR_TYPE_ENUM {
	BMI160_STC_TYPE = 0x0,
	INVALID_TYPE = 0xff
};

/* power mode */
enum STC_POWERMODE_ENUM {
	STC_SUSPEND_MODE = 0x0,
	STC_NORMAL_MODE,
	STC_UNDEFINED_POWERMODE = 0xff
};
#endif/* BMI160_STC_H */
